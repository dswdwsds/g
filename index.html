<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Services | ุฎุฏูุงุช ุงูุฃูุนุงุจ ุงูุงุญุชุฑุงููุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav class="nav-bar">
        <div class="user-info" id="userInfo">
            <!-- Auth Content -->
        </div>
        <div class="logo" style="font-family: var(--font-en); font-weight: 800; color: var(--primary);">PRO GS</div>
    </nav>

    <main class="container" style="padding-top: 80px;">
        <header class="hero">
            <h1>Professional GS</h1>
            <p>ุงุฑูุน ูุณุชูุงู ูู ุงูุฃูุนุงุจ ุจุณุฑุนุฉ ูุฃูุงู ูุน ุฎุฏูุงุชูุง ุงููุชุฎุตุตุฉ ูุงููุชููุฒุฉ.</p>
        </header>

        <section class="services">
            <a href="bounty-rush.html" class="service-card">
                <h2>Bounty Rush</h2>
                <p>ุฎุฏูุงุช ุชูููู ุญุณุงุจุงุช ูููุงุท ุงูุดุฎุตูุงุช ูุฃุนูู ูุณุชููุงุช ุงูุชุญูู ูุงูููุฉ.</p>
                <span>ุงุณุชูุดู ุงูุฎุฏูุฉ โ</span>
            </a>

            <a href="#" class="service-card" style="opacity: 0.5; pointer-events: none;">
                <h2>ูุฑูุจุงู..</h2>
                <p>ุฎุฏูุงุช ุฌุฏูุฏุฉ ูุงุฏูุฉ ููุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุฃูุนุงุจ ุงูุนุงูููุฉ.</p>
                <span>ูุฑูุจุงู ุฌุฏุงู</span>
            </a>
        </section>
    </main>

    <footer>
        <p>ยฉ 2026 Professional Game Services. All rights reserved.</p>
    </footer>

    <script type="module">
        import { auth, onAuthStateChanged } from './firebase-config.js';
        import { login, logout, isWorker, listenToWorkers } from './app.js';

        const ADMIN_EMAIL = 'abdobwd78@gmail.com';

        const refreshUserUI = () => {
            const user = auth.currentUser;
            if (user) {
                const isWorkerUser = isWorker(user.email);
                const workerBadge = isWorkerUser ? '<span class="worker-badge">Staff ๐ก๏ธ</span>' : '';
                const workersLink = (isWorkerUser || user.email === ADMIN_EMAIL)
                    ? '<a href="bounty-rush.html" class="workers-link">ุงูุฎุฏูุงุช ๐ฎ</a>'
                    : '';

                // ูู ูู ุนุงููุ ูุฎููู ูุฑูุญ ุตูุญุฉ ุงูุนูุงูุ ูู ููุฒุฑ ุนุงุฏู ูุฑูุญ ุงูุฎุฏูุงุช
                const actionLink = (isWorkerUser || user.email === ADMIN_EMAIL)
                    ? '<a href="workers.html" class="workers-link">ููุญุฉ ุงูุชุญูู โ๏ธ</a>'
                    : '';

                userInfo.innerHTML = `
                    <div style="display:flex; align-items:center;">
                        ${actionLink}
                        <div class="user-dropdown">
                            <div class="user-profile">
                                <img src="${user.photoURL}" class="user-avatar">
                                <span class="user-name">${user.displayName} ${workerBadge}</span>
                            </div>
                            <div class="dropdown-menu">
                                <a href="#" class="dropdown-item" onclick="handleLogout()">๐ช ุชุณุฌูู ุงูุฎุฑูุฌ</a>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                userInfo.innerHTML = `<button class="auth-btn" id="loginBtn">ุชุณุฌูู ุฏุฎูู</button>`;
                const btn = document.getElementById('loginBtn');
                if (btn) btn.onclick = login;
            }
        };

        listenToWorkers(() => refreshUserUI());
        onAuthStateChanged(auth, () => refreshUserUI());

        window.handleLogout = logout;
    </script>

</body>

</html>